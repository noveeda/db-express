extend board_layout 

block content
  .container
    a(href="/board/posts") 
      h1 자유 게시판

    // 게시글 리스트
    .table
      // 헤더
      .row.header
        .cell 번호
        .cell 제목
        .cell 작성자
        .cell 작성일
        .cell 조회수
      
      // 목록
      each post in posts
        .row
          .cell #{post.post_id}
          .cell 
            a(href=`post/${post.post_id}`) #{post.post_title}
          .cell #{post.user_nickname}
          .cell #{post.post_date}
          .cell #{post.post_views}
        
    // 검색창
    .search-box
      select
        option 제목
        option 작성자
      input(type="text" placeholder="검색어를 입력하세요.")
      button 🔍
    // 페이징
    .pagination
      - var curPage = parseInt(startPage)
      - var pageGroup = Math.floor((curPage - 1) / 10)
      - var groupStart = pageGroup * 10 + 1
      - var groupEnd = Math.min(groupStart + 9, totalPages)

      // ◄ 이전 페이지 그룹
      if groupStart > 1
        a.page(href=`?startPage=${groupStart - 1}&count=10`) ◄

      // 페이지 번호들
      each num in Array(groupEnd - groupStart + 1).fill(0).map((_, idx) => groupStart + idx)
        a.page(
          href=`?startPage=${num}&count=10`,
          class=(num === curPage ? 'active' : '')
        ) #{num}

      // ► 다음 페이지 그룹
      if groupEnd < totalPages
        a.page(href=`?startPage=${groupEnd + 1}&count=10`) ►


    // 글쓰기 버튼
    .write-btn
      a(href="/board/post") 
        button 글쓰기 
